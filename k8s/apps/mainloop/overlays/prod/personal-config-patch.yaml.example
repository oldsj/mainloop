# Personal configuration overrides for production deployment
# Copy this file to personal-config-patch.yaml and update with your values
# personal-config-patch.yaml is gitignored and won't be committed

# HTTPRoute patches for your domains
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: mainloop-frontend
  namespace: mainloop
spec:
  hostnames:
    - "mainloop.example.com"  # Your frontend domain
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: mainloop-api
  namespace: mainloop
spec:
  hostnames:
    - "mainloop-api.example.com"  # Your API domain
---
# Deployment patches for your GHCR username and domains
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mainloop-frontend
  namespace: mainloop
spec:
  template:
    spec:
      containers:
        - name: frontend
          image: ghcr.io/yourusername/mainloop-frontend:latest  # Your GHCR username
          env:
            - name: ORIGIN
              value: "https://mainloop.example.com"  # Your frontend domain
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mainloop-backend
  namespace: mainloop
spec:
  template:
    spec:
      containers:
        - name: backend
          image: ghcr.io/yourusername/mainloop-backend:latest  # Your GHCR username
          env:
            - name: FRONTEND_DOMAIN
              value: "mainloop.example.com"  # Your frontend domain (for CORS)
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mainloop-agent-controller
  namespace: mainloop
spec:
  template:
    spec:
      containers:
        - name: agent-controller
          image: ghcr.io/yourusername/mainloop-agent-controller:latest  # Your GHCR username
